# Autotools progression.

## Configuration

`configure.ac` defines what the autogenerated configure script will contain.
Basic version of `configure.ac` looks like this:
```
AC_INIT([Jupiter], [1.0])
AC_CONFIG_FILES([Makefile src/Makefile])
AC_OUTPUT
```

First run:
```
╰─$ autoreconf
```
to generate `configure` script. Given the definition above, the `configure` script (and by proxy`config.status`) will be responsible for generating `Makefile` and `src/Makefile`.

After `configure` script has been generated run:
```
╰─$ ./configure
configure: creating ./config.status
config.status: creating Makefile
config.status: creating src/Makefile
```

Produces
  * `config.log` - Contains bunch of system information and variables that will be available in the Makefile
  * `config.status` - Executable that produces `Makefile` out of `Makefile.in`. It does all the variable substitutions.


### VPATH
VPATH allows to create builds in remote directories.
```
╭─maciej.warchalowski@maciejwarchalowski-4 ~
╰─$ mkdir test_build
╭─maciej.warchalowski@maciejwarchalowski-4 ~
╰─$ cd test_build
╭─maciej.warchalowski@maciejwarchalowski-4 ~/test_build
╰─$ ~/learning/autotools/jupiter/configure
configure: creating ./config.status
config.status: creating Makefile
config.status: creating src/Makefile
╭─maciej.warchalowski@maciejwarchalowski-4 ~/test_build
╰─$ make
cd src && /Library/Developer/CommandLineTools/usr/bin/make all
cc  -g -O0 -o jupiter /Users/maciej.warchalowski/learning/autotools/jupiter/src/main.c
╭─maciej.warchalowski@maciejwarchalowski-4 ~/test_build
╰─$ ./src/jupiter
Hello from ./src/jupiter!
╭─maciej.warchalowski@maciejwarchalowski-4 ~/test_build
```